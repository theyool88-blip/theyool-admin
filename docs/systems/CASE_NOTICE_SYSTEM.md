# ì‚¬ê±´ ì•Œë¦¼ ì‹œìŠ¤í…œ (Case Notice System)

## ê°œìš”

ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ì˜ "ì•Œë¦¼" íƒ­ì—ì„œ ë³€í˜¸ì‚¬ê°€ í™•ì¸í•´ì•¼ í•  ì¤‘ìš” ì‚¬í•­ë“¤ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.

## ì•Œë¦¼ ì¹´í…Œê³ ë¦¬ (6ê°€ì§€)

### 1. ë‹¤ìŒ ê¸°ì¼ ì•ˆë‚´ (`next_hearing`)
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ì˜ˆì •ëœ ê¸°ì¼ ì¡´ì¬ | "ë‹¤ìŒ ê¸°ì¼: {ë‚ ì§œ} {ì‹œê°„} {ì¥ì†Œ}" |
| D-7 ì´ë‚´ | D-day ê°•ì¡° í‘œì‹œ |

**ë°ì´í„° ì†ŒìŠ¤**: `court_hearings` í…Œì´ë¸”

---

### 2. ê¸°í•œ ê´€ë¦¬ (`deadline`)
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ìƒì†Œê¸°í•œ ì„ë°• | "í•­ì†Œê¸°í•œ {N}ì¼ ë‚¨ìŒ" |
| ë³´ì •ëª…ë ¹ ê¸°í•œ ì„ë°• | "ë³´ì •ëª…ë ¹ ê¸°í•œ {N}ì¼ ë‚¨ìŒ" |
| ê¸°í•œ ì´ˆê³¼ | "ê¸°í•œ ì´ˆê³¼ (D+{N})" |

**ë°ì´í„° ì†ŒìŠ¤**: `case_deadlines` í…Œì´ë¸”

---

### 3. ì¤€ë¹„ì„œë©´ ì œì¶œ ì•ŒëŒ (`brief_required`)
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ìƒëŒ€ë°© ì„œë©´ ì œì¶œ + ìš°ë¦¬ ë¯¸ì œì¶œ | "ìƒëŒ€ë°© {ì„œë¥˜ëª…} ì œì¶œ - ë‹µë³€ì„œë©´ í•„ìš”" |
| ì¬íŒ 2ì£¼ ì „ + ì„œë©´ ë¯¸ì œì¶œ | "ê¸°ì¼ 2ì£¼ ì „ - ì¤€ë¹„ì„œë©´ ì œì¶œ í•„ìš”" |

**ë°ì´í„° ì†ŒìŠ¤**: SCOURT `dlt_rcntSbmsnDocmtLst` (ì œì¶œì„œë¥˜)

**ê°ì§€ ë¡œì§**:
```
if (ìƒëŒ€ë°© ìµœê·¼ ì„œë©´ ì ‘ìˆ˜ì¼ > ìš°ë¦¬ ìµœê·¼ ì„œë©´ ì ‘ìˆ˜ì¼) {
  â†’ "ìƒëŒ€ë°© ì„œë©´ì— ë‹µë³€ í•„ìš”"
}
if (ë‹¤ìŒê¸°ì¼ - today <= 14ì¼ && ìš°ë¦¬ ì„œë©´ ì—†ìŒ) {
  â†’ "ê¸°ì¼ 2ì£¼ì „ ì„œë©´ ì œì¶œ í•„ìš”"
}
```

---

### 4. ì„œë¥˜ ì†¡ë‹¬ ë¬¸ì œ (`document_issue`)

#### 4-1. ìš°ë¦¬ ì„œë¥˜ ë¯¸ì†¡ë‹¬
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ì†¡ë‹¬ ì‹œë„ + ë„ë‹¬ ì•ˆë¨ | "ì„œë¥˜ ë¯¸ì†¡ë‹¬: {ì„œë¥˜ëª…} (ì´ì‚¬ë¶ˆëª… ë“±)" |
| ì†¡ë‹¬ ë°˜í™˜ | "ì„œë¥˜ ë°˜ì†¡ë¨: {ì„œë¥˜ëª…} - ì¬ì†¡ë‹¬ í•„ìš”" |

#### 4-2. ë³´ì •ëª…ë ¹ ë¯¸ì´í–‰
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ë³´ì •ëª…ë ¹ ìˆ˜ë ¹ + ë³´ì • ë¯¸ì œì¶œ | "ë³´ì •ëª…ë ¹ ë¯¸ì´í–‰ - ê¸°í•œ: {ë‚ ì§œ}" |

**ë°ì´í„° ì†ŒìŠ¤**: SCOURT progress/documents

---

### 5. ì¦ê±°ì‹ ì²­ íšŒì‹  ë¯¸ìˆ˜ë ¹ (`evidence_pending`)
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ì¬íŒ 2ì£¼ì „ + ì¦ê±°íšŒì‹  ë¯¸ìˆ˜ë ¹ | "ì¦ê±°ì‹ ì²­ íšŒì‹  ë¯¸ìˆ˜ë ¹: {ì¦ê±°ëª…}" |

**ë°ì´í„° ì†ŒìŠ¤**: SCOURT documents + progress

**ê°ì§€ ë¡œì§**:
```
if (ë‹¤ìŒê¸°ì¼ - today <= 14ì¼) {
  ì¦ê±°ì‹ ì²­ëª©ë¡ = documents where ìš°ë¦¬ì¸¡ + í¬í•¨('ì¦ê±°ì‹ ì²­', 'ì‚¬ì‹¤ì¡°íšŒ', 'ë¬¸ì„œì œì¶œëª…ë ¹')
  for each ì¦ê±°ì‹ ì²­ {
    if (í•´ë‹¹ ì¦ê±°ì— ëŒ€í•œ íšŒì‹  ì—†ìŒ) {
      â†’ "ì¦ê±°ì‹ ì²­ íšŒì‹  ë¯¸ìˆ˜ë ¹: {ì¦ê±°ëª…}"
    }
  }
}
```

---

### 6. ê¸°ì¼ ì¶©ëŒ ê²½ê³  (`schedule_conflict`)
| ì¡°ê±´ | ë©”ì‹œì§€ |
|-----|--------|
| ê°™ì€ ë‚  ë‹¤ë¥¸ ë²•ì› ê¸°ì¼ | "ê¸°ì¼ ì¶©ëŒ: {ì‚¬ê±´A} vs {ì‚¬ê±´B}" |

**ì¶©ëŒ íŒì • ì¡°ê±´**:
- ê°™ì€ ë‚ ì§œ
- ë‹¤ë¥¸ ë²•ì› (court_nameì´ ë‹¤ë¦„)
- ì‹œê°„ê³¼ ë¬´ê´€í•˜ê²Œ ë¬´ì¡°ê±´ í‘œì‹œ

**ì²˜ë¦¬ ì˜µì…˜** (4ê°€ì§€ ë²„íŠ¼):
1. **ì‚­ì œ** - ê²½ê³  ë¬´ì‹œ
2. **ë³€í˜¸ì‚¬ ë³€ê²½** - ë‹´ë‹¹ ë³€í˜¸ì‚¬ ë³€ê²½
3. **ê¸°ì¼ë³€ê²½ ì‹ ì²­** - ì‹ ì²­ì„œ ì‘ì„± ì•ˆë‚´
4. **ë³µëŒ€ë¦¬ì¸** - ë³µëŒ€ë¦¬ì¸ ì§€ì •

**ë°ì´í„° ì†ŒìŠ¤**: `court_hearings` í…Œì´ë¸” (ì „ì²´ ì‚¬ê±´, í–¥í›„ 30ì¼)

---

## UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì•Œë¦¼                                                ì´ 5ê±´  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“… ë‹¤ìŒ ê¸°ì¼: ë³€ë¡ ê¸°ì¼                         D-14   â”‚ â”‚
â”‚  â”‚    2024.01.20 14:00 ì„œìš¸ê°€ì •ë²•ì› 301í˜¸                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â° í•­ì†Œê¸°í•œ 7ì¼ ë‚¨ìŒ                            D-7    â”‚ â”‚
â”‚  â”‚    2024.01.13 ê¹Œì§€ (ê¸°ì‚°ì¼: 2023.12.30)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ bg-red-50 â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âš ï¸ ê¸°ì¼ ì¶©ëŒ                                   D-14   â”‚ â”‚
â”‚  â”‚    2024.01.20 ì„œìš¸ê°€ì • vs ìˆ˜ì›ì§€ë²•                     â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚    â”‚ ì‚­ì œ â”‚ â”‚ë³€í˜¸ì‚¬ë³€ê²½â”‚ â”‚ê¸°ì¼ë³€ê²½  â”‚ â”‚ë³µëŒ€ë¦¬ì¸â”‚      â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### D-day ìƒ‰ìƒ í‘œì‹œ
| ì¡°ê±´ | ë°°ê²½ìƒ‰ | í…ìŠ¤íŠ¸ |
|-----|--------|--------|
| ê¸°í•œ ì´ˆê³¼ (D+N) | `bg-red-50` | `text-red-600 font-semibold` |
| D-3 ì´ë‚´ | `bg-amber-50` | `text-amber-600 font-semibold` |
| D-7 ì´ë‚´ | `bg-yellow-50` | `text-yellow-600` |
| ê·¸ ì™¸ | `bg-white` | `text-gray-500` |

---

## íŒŒì¼ êµ¬ì¡°

```
types/
â””â”€â”€ case-notice.ts          # íƒ€ì… ì •ì˜

lib/case/
â””â”€â”€ notice-detector.ts      # ì•Œë¦¼ ê°ì§€ ë¡œì§

components/case/
â””â”€â”€ CaseNoticeSection.tsx   # ì•Œë¦¼ UI ì»´í¬ë„ŒíŠ¸

components/
â””â”€â”€ CaseDetail.tsx          # ì‚¬ê±´ ìƒì„¸ (ì•Œë¦¼ íƒ­ í†µí•©)
```

---

## íƒ€ì… ì •ì˜

```typescript
// types/case-notice.ts

type NoticeCategory =
  | 'next_hearing'      // ë‹¤ìŒê¸°ì¼
  | 'deadline'          // ê¸°í•œ
  | 'brief_required'    // ì¤€ë¹„ì„œë©´ ì œì¶œ
  | 'document_issue'    // ì„œë¥˜ ì†¡ë‹¬ ë¬¸ì œ
  | 'evidence_pending'  // ì¦ê±°íšŒì‹  ëŒ€ê¸°
  | 'schedule_conflict' // ê¸°ì¼ ì¶©ëŒ

interface CaseNotice {
  id: string
  category: NoticeCategory
  title: string
  description: string
  dueDate?: string
  daysRemaining?: number
  actions?: NoticeAction[]
  metadata?: Record<string, any>
}

interface NoticeAction {
  label: string
  type: 'dismiss' | 'change_lawyer' | 'change_date' | 'deputy' | 'view' | 'edit'
  metadata?: Record<string, any>
}
```

---

## ì‚¬ìš©ë²•

### ì•Œë¦¼ ê°ì§€

```typescript
import { detectCaseNotices } from '@/lib/case/notice-detector'

const notices = detectCaseNotices({
  caseId: 'case-123',
  courtName: 'ì„œìš¸ê°€ì •ë²•ì›',
  deadlines: caseDeadlines,
  hearings: caseHearings,
  allHearings: allCasesHearings,  // ì¶©ëŒ ê°ì§€ìš©
  // ì•„ë˜ëŠ” SCOURT ì—°ë™ ì‹œ ì¶”ê°€
  scourtDocuments: [],
  scourtProgress: []
})
```

### ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

```tsx
import CaseNoticeSection from '@/components/case/CaseNoticeSection'

<CaseNoticeSection
  notices={caseNotices}
  onAction={(notice, actionType) => {
    // ì•¡ì…˜ ì²˜ë¦¬ (ê¸°ì¼ì¶©ëŒ ë²„íŠ¼ ë“±)
  }}
/>
```

---

## ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  court_hearings â”‚â”€â”€â”€â”€â–¶â”‚                 â”‚     â”‚                 â”‚
â”‚  case_deadlines â”‚â”€â”€â”€â”€â–¶â”‚ detectCaseNoticesâ”‚â”€â”€â”€â”€â–¶â”‚ CaseNoticeSectionâ”‚
â”‚  SCOURT data    â”‚â”€â”€â”€â”€â–¶â”‚                 â”‚     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í–¥í›„ í™•ì¥

- [ ] ì•Œë¦¼ ì½ìŒ/ì²˜ë¦¬ ìƒíƒœ ì €ì¥ (`case_notices` í…Œì´ë¸”)
- [ ] ëŒ€ì‹œë³´ë“œì—ì„œ ëª¨ë“  ì‚¬ê±´ ì•Œë¦¼ í†µí•© ì¡°íšŒ
- [ ] SCOURT ë°ì´í„° ì—°ë™ (ì¤€ë¹„ì„œë©´, ì„œë¥˜ì†¡ë‹¬, ì¦ê±°íšŒì‹ )
- [ ] ê¸°ì¼ì¶©ëŒ ì•¡ì…˜ í•¸ë“¤ëŸ¬ êµ¬í˜„

---

## ê´€ë ¨ ë¬¸ì„œ

- [COURT_HEARING_SYSTEM.md](./COURT_HEARING_SYSTEM.md) - ê¸°ì¼ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [SCOURT_INTEGRATION.md](./SCOURT_INTEGRATION.md) - ëŒ€ë²•ì› ë‚˜ì˜ì‚¬ê±´ ì—°ë™
