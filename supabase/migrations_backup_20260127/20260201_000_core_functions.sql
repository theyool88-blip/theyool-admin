-- ============================================================================
-- 법률 사무소 SaaS - 기본 유틸리티 함수
-- 생성일: 2026-02-01
-- 설명: 테이블 의존성이 없는 기본 함수들만 포함
-- NOTE: 테넌트 관련 함수는 002_core_tenant.sql에서 테이블 생성 후 정의
-- ============================================================================

-- ============================================================================
-- 1. updated_at 자동 업데이트 트리거 함수
-- ============================================================================
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

COMMENT ON FUNCTION update_updated_at_column() IS '트리거용: updated_at 컬럼 자동 업데이트';

-- ============================================================================
-- 완료 (테넌트 관련 함수는 002_core_tenant.sql 참조)
-- ============================================================================
